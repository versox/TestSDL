#include <iostream>
#include "SDL.h"

int main(int argc, char* args[]) {
  std::cout << "Init" << std::endl;
  if(SDL_Init(SDL_INIT_VIDEO) != 0) {
    std::cout << "Failed to initialize SDL" << SDL_GetError() << std::endl;
    return 1;
  }

  std::cout << "Create window" << std::endl;
  SDL_Window *window = SDL_CreateWindow("Test", 100, 100, 640, 480, SDL_WINDOW_SHOWN);
  if(window == nullptr) {
    std::cout << "Failed to create window" << SDL_GetError() << std::endl;
    return 1;
  }

  std::cout << "Main loop" << std::endl;
  bool quit = false;
  while(!quit) {
    SDL_Event event;
    while(SDL_PollEvent(&event) != 0) {
      if(event.type == SDL_QUIT) {
        quit = true;
        std::cout << "QUIT! ";
      }
    }
  }

  SDL_Delay(1000);

  SDL_DestroyWindow(window);
  SDL_Quit();

  return 0;
}
